module.exports = class Data1710296697449 {
    name = 'Data1710296697449'

    async up(db) {
        await db.query(`ALTER TABLE "recall" DROP CONSTRAINT "FK_04eb87265c6c1a4070f140028a2"`)
        await db.query(`ALTER TABLE "borrow_intent" DROP CONSTRAINT "FK_7f105e1132a99fcc4ef7e6e18bc"`)
        await db.query(`ALTER TABLE "borrow_intent" DROP CONSTRAINT "FK_3b295e0aefc64bb21c38b6bd2f2"`)
        await db.query(`ALTER TABLE "lend_intent" DROP CONSTRAINT "FK_1b21bfc82068e3afcd8d11233cb"`)
        await db.query(`DROP INDEX "public"."IDX_7c33db32954f396d541dfcd8ab"`)
        await db.query(`DROP INDEX "public"."IDX_57b4f18cb49ce01102139da771"`)
        await db.query(`DROP INDEX "public"."IDX_04eb87265c6c1a4070f140028a"`)
        await db.query(`DROP INDEX "public"."IDX_1d6f58125a5f825510e6065cfa"`)
        await db.query(`DROP INDEX "public"."IDX_e31b4d814f80b635dca2141e00"`)
        await db.query(`DROP INDEX "public"."IDX_10413f27103783669e135e97b7"`)
        await db.query(`DROP INDEX "public"."IDX_7f105e1132a99fcc4ef7e6e18b"`)
        await db.query(`DROP INDEX "public"."IDX_3b295e0aefc64bb21c38b6bd2f"`)
        await db.query(`DROP INDEX "public"."IDX_b23195f6ec294905f37957cf88"`)
        await db.query(`DROP INDEX "public"."IDX_c900922e5537067670101b75d6"`)
        await db.query(`DROP INDEX "public"."IDX_7b10979114da98fd5cd777c1e7"`)
        await db.query(`DROP INDEX "public"."IDX_ed45790d91f41908fe4920e51b"`)
        await db.query(`DROP INDEX "public"."IDX_6bb6ef9969f24fbed586b934f1"`)
        await db.query(`DROP INDEX "public"."IDX_8628f960fc0173a3c83a09a9d2"`)
        await db.query(`DROP INDEX "public"."IDX_1b21bfc82068e3afcd8d11233c"`)
        await db.query(`DROP INDEX "public"."IDX_4832b065968736dc04d37ca5da"`)
        await db.query(`DROP INDEX "public"."IDX_4b49f99cc6f5cf565e1144fbbd"`)
        await db.query(`DROP INDEX "public"."IDX_8e683be10aff509c23cf189cb8"`)
        await db.query(`DROP INDEX "public"."IDX_ebdbf463789bd6fa15bda999e3"`)
        await db.query(`DROP INDEX "public"."IDX_2a24ec89d344275cf53f43f840"`)
        await db.query(`ALTER TABLE "recall" RENAME COLUMN "loan_id" TO "starport_loan_id"`)
        await db.query(`ALTER TABLE "borrow_intent" RENAME COLUMN "debt" TO "borrow"`)
        await db.query(`ALTER TABLE "loan" RENAME COLUMN "token" TO "address"`)
        await db.query(`ALTER TABLE "archived_loan" RENAME COLUMN "token" TO "address"`)
        await db.query(`ALTER TABLE "erc20_stats" RENAME COLUMN "token" TO "address"`)
        await db.query(`ALTER TABLE "archived_intent" RENAME COLUMN "debt" TO "borrow"`)
        await db.query(`ALTER TABLE "point_token" RENAME COLUMN "token" TO "address"`)
        await db.query(`CREATE INDEX "IDX_aa5b87b9e517ba3d83840a6046" ON "starport_loan" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_0ad8ea662f1daba31e80ea05b3" ON "starport_loan" ("borrower") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_fca80cac2e5dfa495491512632" ON "recall" ("starport_loan_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_d106a456c6f5a94b2f56f35f6d" ON "borrow_intent" ("short_id") `)
        await db.query(`CREATE INDEX "IDX_ff178b470a5f96941a6ab98429" ON "borrow_intent" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_51900d571f00ff44453428aef8" ON "borrow_intent" ("assortment_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_da592a771a81b96e76b418b93d" ON "borrow_intent" ("signed_caveat_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_962971f14d1461b3460c35d219" ON "borrow_intent" ("recall_id") `)
        await db.query(`CREATE INDEX "IDX_7c33db32954f396d541dfcd8ab" ON "loan" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_57b4f18cb49ce01102139da771" ON "loan" ("borrower") `)
        await db.query(`CREATE INDEX "IDX_d9e6e39d0798aec6f2faae0e89" ON "loan" ("lender") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_8356192fbc95668085561a73c4" ON "lend_intent" ("short_id") `)
        await db.query(`CREATE INDEX "IDX_5f4ee1a04de9ec6473d23513ef" ON "lend_intent" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_1f0e4d1bae0334fcfeef7646b9" ON "lend_intent" ("assortment_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_af478145f37b4732743ca7b042" ON "lend_intent" ("signed_caveat_id") `)
        await db.query(`CREATE INDEX "IDX_bc1e926a4a2cef87b48b640f72" ON "point" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_2ef8097cf6525ce71333d81275" ON "point" ("borrower") `)
        await db.query(`CREATE INDEX "IDX_818361ea600cb30a9505db8951" ON "point" ("lender") `)
        await db.query(`CREATE INDEX "IDX_086ea6fcea1f49d5b80460f11f" ON "erc20_stats" ("address") `)
        await db.query(`CREATE INDEX "IDX_e0aa259dadbeeadacb99abd91d" ON "point_token" ("chain_id") `)
        await db.query(`ALTER TABLE "recall" ADD CONSTRAINT "FK_fca80cac2e5dfa4954915126324" FOREIGN KEY ("starport_loan_id") REFERENCES "starport_loan"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "borrow_intent" ADD CONSTRAINT "FK_da592a771a81b96e76b418b93d4" FOREIGN KEY ("signed_caveat_id") REFERENCES "signed_caveat"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "borrow_intent" ADD CONSTRAINT "FK_962971f14d1461b3460c35d219d" FOREIGN KEY ("recall_id") REFERENCES "recall"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "lend_intent" ADD CONSTRAINT "FK_af478145f37b4732743ca7b0429" FOREIGN KEY ("signed_caveat_id") REFERENCES "signed_caveat"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`ALTER TABLE "recall" ADD CONSTRAINT "FK_04eb87265c6c1a4070f140028a2" FOREIGN KEY ("loan_id") REFERENCES "starport_loan"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "borrow_intent" ADD CONSTRAINT "FK_7f105e1132a99fcc4ef7e6e18bc" FOREIGN KEY ("signed_caveat_id") REFERENCES "signed_caveat"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "borrow_intent" ADD CONSTRAINT "FK_3b295e0aefc64bb21c38b6bd2f2" FOREIGN KEY ("recall_id") REFERENCES "recall"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "lend_intent" ADD CONSTRAINT "FK_1b21bfc82068e3afcd8d11233cb" FOREIGN KEY ("signed_caveat_id") REFERENCES "signed_caveat"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`CREATE INDEX "IDX_7c33db32954f396d541dfcd8ab" ON "starport_loan" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_57b4f18cb49ce01102139da771" ON "starport_loan" ("borrower") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_04eb87265c6c1a4070f140028a" ON "recall" ("loan_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_1d6f58125a5f825510e6065cfa" ON "borrow_intent" ("short_id") `)
        await db.query(`CREATE INDEX "IDX_e31b4d814f80b635dca2141e00" ON "borrow_intent" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_10413f27103783669e135e97b7" ON "borrow_intent" ("assortment_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_7f105e1132a99fcc4ef7e6e18b" ON "borrow_intent" ("signed_caveat_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_3b295e0aefc64bb21c38b6bd2f" ON "borrow_intent" ("recall_id") `)
        await db.query(`CREATE INDEX "IDX_b23195f6ec294905f37957cf88" ON "loan" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_c900922e5537067670101b75d6" ON "loan" ("borrower") `)
        await db.query(`CREATE INDEX "IDX_7b10979114da98fd5cd777c1e7" ON "loan" ("lender") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_ed45790d91f41908fe4920e51b" ON "lend_intent" ("short_id") `)
        await db.query(`CREATE INDEX "IDX_6bb6ef9969f24fbed586b934f1" ON "lend_intent" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_8628f960fc0173a3c83a09a9d2" ON "lend_intent" ("assortment_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_1b21bfc82068e3afcd8d11233c" ON "lend_intent" ("signed_caveat_id") `)
        await db.query(`CREATE INDEX "IDX_4832b065968736dc04d37ca5da" ON "point" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_4b49f99cc6f5cf565e1144fbbd" ON "point" ("borrower") `)
        await db.query(`CREATE INDEX "IDX_8e683be10aff509c23cf189cb8" ON "point" ("lender") `)
        await db.query(`CREATE INDEX "IDX_ebdbf463789bd6fa15bda999e3" ON "erc20_stats" ("token") `)
        await db.query(`CREATE INDEX "IDX_2a24ec89d344275cf53f43f840" ON "point_token" ("chain_id") `)
        await db.query(`ALTER TABLE "recall" RENAME COLUMN "starport_loan_id" TO "loan_id"`)
        await db.query(`ALTER TABLE "borrow_intent" RENAME COLUMN "borrow" TO "debt"`)
        await db.query(`ALTER TABLE "loan" RENAME COLUMN "address" TO "token"`)
        await db.query(`ALTER TABLE "archived_loan" RENAME COLUMN "address" TO "token"`)
        await db.query(`ALTER TABLE "erc20_stats" RENAME COLUMN "address" TO "token"`)
        await db.query(`ALTER TABLE "archived_intent" RENAME COLUMN "borrow" TO "debt"`)
        await db.query(`ALTER TABLE "point_token" RENAME COLUMN "address" TO "token"`)
        await db.query(`DROP INDEX "public"."IDX_aa5b87b9e517ba3d83840a6046"`)
        await db.query(`DROP INDEX "public"."IDX_0ad8ea662f1daba31e80ea05b3"`)
        await db.query(`DROP INDEX "public"."IDX_fca80cac2e5dfa495491512632"`)
        await db.query(`DROP INDEX "public"."IDX_d106a456c6f5a94b2f56f35f6d"`)
        await db.query(`DROP INDEX "public"."IDX_ff178b470a5f96941a6ab98429"`)
        await db.query(`DROP INDEX "public"."IDX_51900d571f00ff44453428aef8"`)
        await db.query(`DROP INDEX "public"."IDX_da592a771a81b96e76b418b93d"`)
        await db.query(`DROP INDEX "public"."IDX_962971f14d1461b3460c35d219"`)
        await db.query(`DROP INDEX "public"."IDX_7c33db32954f396d541dfcd8ab"`)
        await db.query(`DROP INDEX "public"."IDX_57b4f18cb49ce01102139da771"`)
        await db.query(`DROP INDEX "public"."IDX_d9e6e39d0798aec6f2faae0e89"`)
        await db.query(`DROP INDEX "public"."IDX_8356192fbc95668085561a73c4"`)
        await db.query(`DROP INDEX "public"."IDX_5f4ee1a04de9ec6473d23513ef"`)
        await db.query(`DROP INDEX "public"."IDX_1f0e4d1bae0334fcfeef7646b9"`)
        await db.query(`DROP INDEX "public"."IDX_af478145f37b4732743ca7b042"`)
        await db.query(`DROP INDEX "public"."IDX_bc1e926a4a2cef87b48b640f72"`)
        await db.query(`DROP INDEX "public"."IDX_2ef8097cf6525ce71333d81275"`)
        await db.query(`DROP INDEX "public"."IDX_818361ea600cb30a9505db8951"`)
        await db.query(`DROP INDEX "public"."IDX_086ea6fcea1f49d5b80460f11f"`)
        await db.query(`DROP INDEX "public"."IDX_e0aa259dadbeeadacb99abd91d"`)
        await db.query(`ALTER TABLE "recall" DROP CONSTRAINT "FK_fca80cac2e5dfa4954915126324"`)
        await db.query(`ALTER TABLE "borrow_intent" DROP CONSTRAINT "FK_da592a771a81b96e76b418b93d4"`)
        await db.query(`ALTER TABLE "borrow_intent" DROP CONSTRAINT "FK_962971f14d1461b3460c35d219d"`)
        await db.query(`ALTER TABLE "lend_intent" DROP CONSTRAINT "FK_af478145f37b4732743ca7b0429"`)
    }
}
